(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(14),c=t.n(o),l=(t(20),t(4)),i=t(3),u=function(e){return r.a.createElement("p",null,e.name,e.ingredients,e.method)},s=function(e){return r.a.createElement("ul",null,e.recipes.filter((function(n){return n.name.toLowerCase().includes(e.searchTerm)})).map((function(e){return r.a.createElement(u,{key:e.id,recipe:e})})))},d=function(e){return r.a.createElement("form",null,r.a.createElement("div",null,"filter shown with:",r.a.createElement("input",{value:e.searchTerm,onChange:e.handleSearch})))},h=t(2),m=t.n(h),f="/api/recipes",g=function(){var e=m.a.get(f);return console.log("request",e),e.then((function(e){return e.data})).catch((function(e){console.log("fail",e)}))},p=function(e){return m.a.post(f,e).then((function(e){return e.data})).then((function(e){return console.log(e.data+"has been added")})).catch((function(e){throw console.log(e.response.data.error),Error(e.response.data.error)}))},v=function(e,n){return m.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},E=function(e){return console.log(e),r.a.createElement("form",{onSubmit:e.addRecipe},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),r.a.createElement("div",null,"ingredients:"," ",r.a.createElement("input",{value:e.newIngredients,onChange:e.handleIngredientsChange})),r.a.createElement("div",null,"method:"," ",r.a.createElement("input",{value:e.newMethod,onChange:e.handleMethodChange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},w=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),u=Object(i.a)(c,2),h=u[0],m=u[1],f=Object(a.useState)([]),w=Object(i.a)(f,2),b=w[0],j=w[1],O=Object(a.useState)([]),C=Object(i.a)(O,2),S=C[0],y=C[1],k=Object(a.useState)(""),D=Object(i.a)(k,2),I=D[0],M=D[1];Object(a.useEffect)((function(){console.log("initialRecipes"),g().then((function(e){o(e)}))}),[]),console.log("recipes: ",t);return r.a.createElement("div",null,r.a.createElement("h2",null,"Reseptit"),r.a.createElement(d,{searchTerm:I,handleSearch:function(e){e.preventDefault(),M(e.target.value)}}),r.a.createElement("h2",null,"add a new"),r.a.createElement(E,{addRecipe:function(e){if(e.preventDefault(),t.filter((function(e){return e.name===h})).length>0){var n=t.find((function(e){return e.name===h}));if(window.confirm(h+" is already added to recipes, do you want to replace the old one?")){var a={name:h,ingredients:b,method:S};v(n.id,a),o(t.map((function(e){return e.name!==n.name?e:Object(l.a)(Object(l.a)({},e),{},{ingredients:b,method:S})})))}m(""),j([]),y([])}else{var r={name:h,ingredients:b,method:S};console.log("new recipe: ",r),p(r).then((function(e){o(t.concat(e)).then(console.log("recipes: ",t)),m(""),j([]),y([])})).catch((function(e){console.log(e.message)}))}},newName:h,handleNameChange:function(e){e.preventDefault(),console.log(e.target.value),m(e.target.value)},newIngredients:b,handleIngredientsChange:function(e){e.preventDefault(),j(e.target.value)},newMethod:S,handleMethodChange:function(e){e.preventDefault(),y(e.target.value)}}),r.a.createElement("h2",null,"Recipes"),r.a.createElement(s,{recipes:t,searchTerm:I}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.get("http://localhost:3001/recipes").then((function(e){console.log(e)})),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.07eb9c3f.chunk.js.map