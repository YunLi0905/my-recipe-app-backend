(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(e,t,a){},28:function(e,t,a){e.exports=a(56)},33:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(26),r=a.n(c),o=(a(33),a(7)),s=a(10),i=a.n(s),u="/api/recipes",m=function(){var e=i.a.get(u);return console.log("request",e),e.then((function(e){return e.data})).catch((function(e){console.log("fail",e)}))},p=function(e){return i.a.post(u,e).then((function(e){return e.data})).then((function(e){return console.log(e,"has been added"),e})).catch((function(e){throw console.log(e.response.data.error),Error(e.response.data.error)}))},E=a(1),d=a(8),f=function(e){var t=e.recipes;return l.a.createElement("div",null,l.a.createElement("h2",null,"Recipes"),l.a.createElement("ul",null,t.map((function(e){return l.a.createElement("div",null,l.a.createElement("p",{style:{color:"black"}},e.name),l.a.createElement("p",{style:{color:"grey"}},"Ingredients: ",e.ingredients),l.a.createElement("p",{style:{color:"grey"}},"Method: ",e.method))}))))},h=(a(24),function(e){return l.a.createElement("form",null,l.a.createElement("div",null,l.a.createElement("input",{className:"search",placeholder:"Search recipe",value:e.searchTerm,onChange:e.handleSearch})))}),v=function(e){var t=e.recipes,a=e.searchTerm;return a?l.a.createElement("ul",null,t.filter((function(e){return e.name.toLowerCase().includes(a)})).map((function(e){return l.a.createElement("div",null,l.a.createElement("p",{style:{color:"black"}},e.name),l.a.createElement("p",{style:{color:"grey"}},"Ingredients: ",e.ingredients),l.a.createElement("p",{style:{color:"grey"}},"Method: ",e.method))}))):""},g=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(o.a)(r,2),i=s[0],u=s[1];return Object(n.useEffect)((function(){console.log("initialRecipes"),m().then((function(e){u(e)}))}),[]),l.a.createElement("div",null,l.a.createElement("h2",{className:"head-image"},l.a.createElement("div",{className:"head-text"},l.a.createElement("h1",{className:"appHeaderText"},"Omat Reseptit"),l.a.createElement(h,{className:"search",searchTerm:a,handleSearch:function(e){e.preventDefault(),c(e.target.value),console.log("search term: ",a)}}),l.a.createElement("br",null),l.a.createElement("p",null,"HAE RESEPTIT KOTIKEITTI\xd6\xd6N")),l.a.createElement("br",null)),l.a.createElement(v,{recipes:i,searchTerm:a}))},b=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(o.a)(r,2),i=s[0],u=s[1],m=Object(n.useState)([]),E=Object(o.a)(m,2),d=E[0],f=E[1],h=Object(n.useState)([]),v=Object(o.a)(h,2),g=v[0],b=v[1];return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={name:a,ingredients:i,method:d};console.log("new recipe: ",t),p(t).then((function(e){b(g.concat(e)).then(console.log("recipes: ",g)),c(""),u([]),f([])})).catch((function(e){console.log(e.message)}))},className:"form"},l.a.createElement("div",null,l.a.createElement("p",{className:"sansserif"},"name: "),l.a.createElement("input",{className:"field",value:a,onChange:function(e){e.preventDefault(),console.log(e.target.value),c(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("p",{className:"sansserif"},"ingredients: "),l.a.createElement("input",{className:"field",value:i,onChange:function(e){e.preventDefault(),u(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("p",{className:"sansserif"},"method: "),l.a.createElement("input",{className:"field",value:d,onChange:function(e){e.preventDefault(),f(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("button",{type:"submit"},"add")))))},y=function(e){return l.a.createElement("div",null,l.a.createElement("p",{style:{color:"black"}},e.name),l.a.createElement("p",{style:{color:"grey"}},e.ingredients),l.a.createElement("p",{style:{color:"grey"}},e.method))},O=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){console.log("initialRecipes"),m().then((function(e){c(e)}))}),[]),console.log("recipes: ",a);var r=Object(E.f)("/recipes/:id"),s=r?a.find((function(e){return e.id===Number(r.params.id)})):null;return l.a.createElement(d.a,null,l.a.createElement("div",{className:"topnav"},l.a.createElement("ul",null,l.a.createElement(d.b,{className:"navbarFont",to:"/"},"Home"),l.a.createElement(d.b,{className:"navbarFont",to:"/recipes"},"Lis\xe4\xe4 resepti"))),l.a.createElement(E.c,null,l.a.createElement(E.a,{path:"/recipes/:id"},l.a.createElement(y,{recipe:s})),l.a.createElement(E.a,{path:"/recipes"},l.a.createElement(b,null),l.a.createElement(f,{recipes:a})),l.a.createElement(E.a,{path:"/"},l.a.createElement(g,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(d.a,null,l.a.createElement(O,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.91789583.chunk.js.map