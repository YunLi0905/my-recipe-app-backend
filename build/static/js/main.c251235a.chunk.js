(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(e,t,a){},28:function(e,t,a){e.exports=a(56)},33:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),c=a.n(r),o=(a(33),a(7)),s=a(10),i=a.n(s),u="/api/recipes",m=function(){var e=i.a.get(u);return console.log("request",e),e.then((function(e){return e.data})).catch((function(e){console.log("fail",e)}))},p=function(e){return i.a.post(u,e).then((function(e){return e.data})).then((function(e){return console.log(e,"has been added"),e})).catch((function(e){throw console.log(e.response.data.error),Error(e.response.data.error)}))},E=a(1),d=a(9),f=function(e){var t=e.recipes;return l.a.createElement("div",null,l.a.createElement("h2",null,"Recipes"),l.a.createElement("ul",null,t.map((function(e){return l.a.createElement("div",{key:e.id},l.a.createElement("p",{style:{color:"black"}},e.name),l.a.createElement("p",{style:{color:"grey"}},"Ingredients: ",e.ingredients),l.a.createElement("p",{style:{color:"grey"}},"Method: ",e.method))}))))},h=(a(24),function(e){return l.a.createElement("form",null,l.a.createElement("div",null,l.a.createElement("input",{className:"search",placeholder:"Search recipe",value:e.searchTerm,onChange:e.handleSearch})))}),g=function(e){var t=e.recipes,a=e.searchTerm;return a?l.a.createElement("ul",null,t.filter((function(e){return e.name.toLowerCase().includes(a)})).map((function(e){return l.a.createElement("div",null,l.a.createElement("p",{style:{color:"black"}},e.name),l.a.createElement("p",{style:{color:"grey"}},"Ingredients: ",e.ingredients),l.a.createElement("p",{style:{color:"grey"}},"Method: ",e.method))}))):""},v=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(o.a)(c,2),i=s[0],u=s[1];return Object(n.useEffect)((function(){console.log("initialRecipes"),m().then((function(e){u(e)}))}),[]),l.a.createElement("div",null,l.a.createElement("h2",{className:"head-image"},l.a.createElement("div",{className:"head-text"},l.a.createElement("h1",{className:"appHeaderText"},"Omat Reseptit"),l.a.createElement(h,{className:"search",searchTerm:a,handleSearch:function(e){e.preventDefault(),r(e.target.value),console.log("search term: ",a)}}),l.a.createElement("br",null),l.a.createElement("p",null,"HAE RESEPTIT KOTIKEITTI\xd6\xd6N")),l.a.createElement("br",null)),l.a.createElement(g,{recipes:i,searchTerm:a}))},b=function(e){var t=e.recipes,a=e.setRecipes,r=Object(n.useState)(""),c=Object(o.a)(r,2),s=c[0],i=c[1],u=Object(n.useState)([]),m=Object(o.a)(u,2),E=m[0],d=m[1],f=Object(n.useState)([]),h=Object(o.a)(f,2),g=h[0],v=h[1];return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={name:s,ingredients:E,method:g};console.log("new recipe: ",n),p(n).then((function(e){console.log("RECIPES =",t),console.log("NEW RECIPE =",e),a(t.concat(e)),i(""),d([]),v([])})).catch((function(e){console.log(e.message)}))},className:"form"},l.a.createElement("div",null,l.a.createElement("p",{className:"sansserif"},"name: "),l.a.createElement("input",{className:"field",value:s,onChange:function(e){e.preventDefault(),console.log(e.target.value),i(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("p",{className:"sansserif"},"ingredients: "),l.a.createElement("input",{className:"field",value:E,onChange:function(e){e.preventDefault(),d(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("p",{className:"sansserif"},"method: "),l.a.createElement("input",{className:"field",value:g,onChange:function(e){e.preventDefault(),v(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("button",{type:"submit"},"add")))))},y=function(e){return l.a.createElement("div",null,l.a.createElement("p",{style:{color:"black"}},e.name),l.a.createElement("p",{style:{color:"grey"}},e.ingredients),l.a.createElement("p",{style:{color:"grey"}},e.method))},N=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){console.log("initialRecipes"),m().then((function(e){r(e)}))}),[]),console.log("recipes: ",a);var c=Object(E.f)("/recipes/:id"),s=c?a.find((function(e){return e.id===Number(c.params.id)})):null;return l.a.createElement(d.a,null,l.a.createElement("div",{className:"topnav"},l.a.createElement("ul",null,l.a.createElement(d.b,{className:"navbarFont",to:"/"},"Home"),l.a.createElement(d.b,{className:"navbarFont",to:"/recipes"},"Lis\xe4\xe4 resepti"))),l.a.createElement(E.c,null,l.a.createElement(E.a,{path:"/recipes/:id"},l.a.createElement(y,{recipe:s})),l.a.createElement(E.a,{path:"/recipes"},l.a.createElement(b,{recipes:a,setRecipes:r}),l.a.createElement(f,{recipes:a})),l.a.createElement(E.a,{path:"/"},l.a.createElement(v,null))))};c.a.render(l.a.createElement(d.a,null,l.a.createElement(N,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.c251235a.chunk.js.map